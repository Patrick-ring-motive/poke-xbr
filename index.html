<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>replit</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
</head>

<body>
  <style>
    [id="battle-stage"i] {
      width: 90vmin;
      height: 90vmin;
    }
    tr{
      height:50%;
    }
    td{
      width: 50%;
    }
  </style>
  <imgpoo crossorigin="anonymous" src="https://poke-archive-scrape.patrickring.net/media/upload/9/98/Missingno_RB.png"/>
  <table>
    <tr>
      <td></td>
      <td>
        <table id="battle-stage">
          <tr>
            <td id="top-left">
              <div style="border-top-color:green;border-top-width:thick;border-top-style:solid;width:100%;height:100%">
                Poop
              </div>
            </td>
            <td id="top-right"></td>
          </tr>
          <tr>
            <td id="bottom-left"></td>
            <td id="bottom-right"></td>
          </tr>
        </table>
      </td>
      <td></td>
    </tr>
  </table>
  <script src="script.js"></script>
  <script src="XbrWasm.js?"></script>
  <script defer>try{
      const imgs = document.querySelectorAll('img');

       function setup(img) {
          let xbrwasm = new XbrWasm(img, 4);
         (xbrwasm?.destCanvas?.style??{}).height = `${img?.clientHeight}px`;
         (xbrwasm?.destCanvas?.style??{}).width = `${img?.clientWidth}px`;
          img?.before?.(xbrwasm.destCanvas);
         (img?.style??{}).display = 'none';

          XbrWasm.ready.then(() => {
            try{
              xbrwasm.draw();
            }catch(e){
              alert(e);
            }
          });
      }

      imgs.forEach((im) => {
         if (im.complete) {
            setup(im);
       } else {
      im.onload = () => setup(im);
         }
      });
    }catch(e){alert(e)}
  </script>

</body>

</html>